# 3. Methodology

3. Methodology In this section, we present the architecture of PaperBanana, a reference-driven agentic framework for automated academic illustration. As illustrated in Figure 2,PaperBanana orchestrates a collaborative team of ï¬ve specialized agentsâ€”Retriever, Planner, Stylist, Visualizer, and Criticâ€”to transform raw scientiï¬c content into publication-quality diagrams and plots. (See Appendix Gfor prompts) Retriever Agent. Given the source context ğ‘† and the communicative intent ğ¶ , the Retriever Agent identiï¬es ğ‘ most relevant examples E={ğ¸ğ‘›}ğ‘ ğ‘›=1âŠ‚ R from the ï¬xed reference set R to guide the downstream agents. As deï¬ned in Section 2, each example ğ¸ğ‘–âˆˆ R is a triplet (ğ‘†ğ‘–, ğ¶ğ‘–, ğ¼ğ‘–) . To leverage the reasoning capabilities of VLMs, we adopt a generative retrieval approach where the VLM performs selection over candidate metadata: E=VLMRet î˜€ğ‘†, ğ¶, {(ğ‘†ğ‘–, ğ¶ğ‘–)}ğ¸ğ‘–âˆˆ R î˜(3) Speciï¬cally, the VLM is instructed to rank candidates by matching both research domain (e.g., Agent & Reasoning) and diagram type (e.g., pipeline, architecture), with visual structure being prioritized over topic similarity. By explicitly reasoned selection of reference illustrations ğ¼ğ‘– whose corresponding 3



[[PAGE \1]]

PaperBanana: Automating Academic Illustration for AI Scientists Figure 2 | [Generated by , textual description to reproduce this diagram is presented in Appendix E.] Overview of our PaperBanana framework. Given the source context and communicative intent, we ï¬rst apply a Linear Planning Phase to retrieve relevant reference examples and synthesize a stylistically optimized description. We then use an Iterative Reï¬nement Loop (consisting of Visualizer and Critic Agents) to transform the description into visual output and conduct multi-round reï¬nements to produce the ï¬nal academic illustration. contexts (ğ‘†ğ‘–, ğ¶ğ‘–) best match the current requirements, the Retriever provides a concrete foundation for both structural logic and visual style. Planner Agent. The Planner Agent serves as the cognitive core of the system. It takes the source context ğ‘† , communicative intent ğ¶ , and retrieved examples E as inputs. By performing in-context learning from the demonstrations in E , the Planner translates the unstructured or structured data in ğ‘†into a comprehensive and detailed textual description ğ‘ƒof the target illustration: ğ‘ƒ=VLMplan (ğ‘†, ğ¶, {(ğ‘†ğ‘–, ğ¶ğ‘–, ğ¼ğ‘–)}ğ¸ğ‘–âˆˆ E ).(4) Stylist Agent. To ensure the output adheres to the aesthetic standards of modern academic manuscripts, the Stylist Agent acts as a design consultant. A primary challenge lies in deï¬ning a comprehensive â€œacademic style,â€ as manual deï¬nitions are often incomplete. To address this, the Stylist traverses the entire reference collection R to automatically synthesize an Aesthetic Guideline G covering key dimensions such as color palette, shapes and containers, lines and arrows, layout and composition, and typography and icons (see Appendix Ffor the summarized guideline and implementation details). Armed with this guideline, the Stylist reï¬nes each initial description ğ‘ƒ into a stylistically optimized version ğ‘ƒâˆ—: ğ‘ƒâˆ—=VLMstyle(ğ‘ƒ, G).(5) This ensures that the ï¬nal illustration is not only accurate but also visually professional. Visualizer Agent. After receiving the stylistically optimized description ğ‘ƒâˆ— , the Visualizer Agent collaborates with the Critic Agent to render academic illustrations and iteratively reï¬ne their quality. The Visualizer Agent leverages an image generation model to transform textual descriptions into visual output. In each iteration ğ‘¡, given a description ğ‘ƒğ‘¡, the Visualizer generates: ğ¼ğ‘¡=Image-Gen(ğ‘ƒğ‘¡),(6) where the initial description ğ‘ƒ0is set to ğ‘ƒâˆ—. 4



[[PAGE \1]]

PaperBanana: Automating Academic Illustration for AI Scientists Critic Agent. The Critic Agent forms a closed-loop reï¬nement mechanism with the Visualizer by closely examining the generated image ğ¼ğ‘¡ and providing reï¬ned description ğ‘ƒğ‘¡+1 to the Visualizer. Upon receiving the generated image ğ¼ğ‘¡ at iteration ğ‘¡ , the Critic inspects it against the original source context (ğ‘†, ğ¶) to identify factual misalignments, visual glitches, or areas for improvement. It then provides targeted feedback and produces a reï¬ned description ğ‘ƒğ‘¡+1 that addresses the identiï¬ed issues: ğ‘ƒğ‘¡+1=VLMcritic(ğ¼ğ‘¡, ğ‘†, ğ¶, ğ‘ƒğ‘¡).(7) This revised description is then fed back to the Visualizer for regeneration. The Visualizer-Critic loop iterates for ğ‘‡= 3rounds, with the ï¬nal output being ğ¼=ğ¼ğ‘‡ . This iterative reï¬nement process ensures that the ï¬nal illustration meets the high standards required for academic dissemination. Extension to Statistical Plots. The framework extends to statistical plots by adjusting the Visualizer and Critic agents. For numerical precision, the Visualizer converts the description ğ‘ƒğ‘¡ into executable Python Matplotlib code: ğ¼ğ‘¡=VLMcode(ğ‘ƒğ‘¡) . The Critic evaluates the rendered plot and generates a reï¬ned description ğ‘ƒğ‘¡+1 addressing inaccuracies or imperfections: ğ‘ƒğ‘¡+1=VLMcritic(ğ¼ğ‘¡, ğ‘†, ğ¶, ğ‘ƒğ‘¡) . The same ğ‘‡= 3round iterative reï¬nement process applies. While we prioritize this code-based approach for accuracy, we also explore direct image generation in Section 6. See Appendix G.2 for adjusted prompts.
